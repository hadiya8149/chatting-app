import{useEffect as St,useState as C}from"react";import{useEffect as N,useState as G,useRef as $}from"react";import Wt from"classnames";var Vt=(o,m,_)=>{let c=null;return function(...p){let w=()=>{c=null,_||o.apply(this,p)};c&&clearTimeout(c),c=setTimeout(w,m)}},xt=Vt;import{createContext as Ut,useCallback as Xt,useContext as jt,useMemo as Jt,useState as qt}from"react";import{jsx as Qt}from"react/jsx-runtime";var At="DEFAULT_TOOLTIP_ID",Yt={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},zt={getTooltipData:()=>Yt},Rt=Ut(zt),Gt=({children:o})=>{let[m,_]=qt({[At]:new Set}),[c,y]=qt({[At]:{current:null}}),p=(r,...a)=>{_(l=>{var h;let n=(h=l[r])!=null?h:new Set;return a.forEach(v=>n.add(v)),{...l,[r]:new Set(n)}})},w=(r,...a)=>{_(l=>{let n=l[r];return n?(a.forEach(h=>n.delete(h)),{...l}):l})},k=(r,a)=>{y(l=>{var n;return((n=l[r])==null?void 0:n.current)===a.current?l:{...l,[r]:a}})},A=Xt((r=At)=>{var a,l;return{anchorRefs:(a=m[r])!=null?a:new Set,activeAnchor:(l=c[r])!=null?l:{current:null},attach:(...n)=>p(r,...n),detach:(...n)=>w(r,...n),setActiveAnchor:n=>k(r,n)}},[m,c,p,w]),S=Jt(()=>({getTooltipData:A}),[A]);return Qt(Rt.Provider,{value:S,children:o})};function U(o=At){return jt(Rt).getTooltipData(o)}var Dt=Gt;import{useEffect as Zt,useRef as te}from"react";import ee from"classnames";import{jsx as re}from"react/jsx-runtime";var oe=({tooltipId:o,children:m,className:_,place:c,content:y,html:p,variant:w,offset:k,wrapper:A,events:S,positionStrategy:r,delayShow:a,delayHide:l})=>{let{attach:n,detach:h}=U(o),v=te(null);return Zt(()=>(n(v),()=>{h(v)}),[]),re("span",{ref:v,className:ee("react-tooltip-wrapper",_),"data-tooltip-place":c,"data-tooltip-content":y,"data-tooltip-html":p,"data-tooltip-variant":w,"data-tooltip-offset":k,"data-tooltip-wrapper":A,"data-tooltip-events":S,"data-tooltip-position-strategy":r,"data-tooltip-delay-show":a,"data-tooltip-delay-hide":l,children:m})},Kt=oe;import{useLayoutEffect as ne,useEffect as le}from"react";var ie=typeof window!="undefined"?ne:le,It=ie;import{computePosition as Nt,offset as se,shift as ce,arrow as ae,flip as pe}from"@floating-ui/dom";var Ct=async({elementReference:o=null,tooltipReference:m=null,tooltipArrowReference:_=null,place:c="top",offset:y=10,strategy:p="absolute",middlewares:w=[se(Number(y)),pe(),ce({padding:5})]})=>{if(!o)return{tooltipStyles:{},tooltipArrowStyles:{},place:c};if(m===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:c};let k=w;return _?(k.push(ae({element:_,padding:5})),Nt(o,m,{placement:c,strategy:p,middleware:k}).then(({x:A,y:S,placement:r,middlewareData:a})=>{var P,D;let l={left:`${A}px`,top:`${S}px`},{x:n,y:h}=(P=a.arrow)!=null?P:{x:0,y:0},v=(D={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]])!=null?D:"bottom",Q={left:n!=null?`${n}px`:"",top:h!=null?`${h}px`:"",right:"",bottom:"",[v]:"-4px"};return{tooltipStyles:l,tooltipArrowStyles:Q,place:r}})):Nt(o,m,{placement:"bottom",strategy:p,middleware:k}).then(({x:A,y:S,placement:r})=>({tooltipStyles:{left:`${A}px`,top:`${S}px`},tooltipArrowStyles:{},place:r}))};var O={arrow:"react-tooltip__arrow_KtSkBq",clickable:"react-tooltip__clickable_KtSkBq",dark:"react-tooltip__dark_KtSkBq",error:"react-tooltip__error_KtSkBq",fixed:"react-tooltip__fixed_KtSkBq",info:"react-tooltip__info_KtSkBq",light:"react-tooltip__light_KtSkBq",noArrow:"react-tooltip__no-arrow_KtSkBq",show:"react-tooltip__show_KtSkBq",success:"react-tooltip__success_KtSkBq",tooltip:"react-tooltip__tooltip_KtSkBq",warning:"react-tooltip__warning_KtSkBq"};import{jsx as fe,jsxs as Te}from"react/jsx-runtime";var ue=({id:o,className:m,classNameArrow:_,variant:c="dark",anchorId:y,anchorSelect:p,place:w="top",offset:k=10,events:A=["hover"],openOnClick:S=!1,positionStrategy:r="absolute",middlewares:a,wrapper:l,delayShow:n=0,delayHide:h=0,float:v=!1,noArrow:Q=!1,clickable:P=!1,closeOnEsc:D=!1,style:ut,position:Z,afterShow:tt,afterHide:et,content:ot,isOpen:F,setIsOpen:rt,activeAnchor:M,setActiveAnchor:nt})=>{let B=$(null),K=$(null),H=$(null),q=$(null),[ft,Tt]=G(w),[lt,dt]=G({}),[gt,mt]=G({}),[R,yt]=G(!1),[ht,X]=G(!1),Et=$(!1),it=$(null),{anchorRefs:_t,setActiveAnchor:Lt}=U(o),st=$(!1),[W,ct]=G([]),V=$(!1),j=S||A.includes("click");It(()=>(V.current=!0,()=>{V.current=!1}),[]),N(()=>{if(!R){let t=setTimeout(()=>{X(!1)},150);return()=>{clearTimeout(t)}}return()=>null},[R]);let g=t=>{V.current&&(t&&X(!0),setTimeout(()=>{V.current&&(rt==null||rt(t),F===void 0&&yt(t))},10))};N(()=>{if(F===void 0)return()=>null;F&&X(!0);let t=setTimeout(()=>{yt(F)},10);return()=>{clearTimeout(t)}},[F]),N(()=>{R!==Et.current&&(Et.current=R,R?tt==null||tt():et==null||et())},[R]);let kt=()=>{H.current&&clearTimeout(H.current),H.current=setTimeout(()=>{g(!0)},n)},J=(t=h)=>{q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{st.current||g(!1)},t)},at=t=>{var s;if(!t)return;n?kt():g(!0);let i=(s=t.currentTarget)!=null?s:t.target;nt(i),Lt({current:i}),q.current&&clearTimeout(q.current)},pt=()=>{P?J(h||100):h?J():g(!1),H.current&&clearTimeout(H.current)},Y=({x:t,y:i})=>{Ct({place:w,offset:k,elementReference:{getBoundingClientRect(){return{x:t,y:i,width:0,height:0,top:i,left:t,right:t,bottom:i}}},tooltipReference:B.current,tooltipArrowReference:K.current,strategy:r,middlewares:a}).then(u=>{Object.keys(u.tooltipStyles).length&&dt(u.tooltipStyles),Object.keys(u.tooltipArrowStyles).length&&mt(u.tooltipArrowStyles),Tt(u.place)})},z=t=>{if(!t)return;let i=t,s={x:i.clientX,y:i.clientY};Y(s),it.current=s},Bt=t=>{at(t),h&&J()},T=t=>{var u;[document.querySelector(`[id='${y}']`),...W].some(d=>d==null?void 0:d.contains(t.target))||(u=B.current)!=null&&u.contains(t.target)||g(!1)},x=t=>{t.key==="Escape"&&g(!1)},e=xt(at,50),f=xt(pt,50);N(()=>{var L,E;let t=new Set(_t);W.forEach(b=>{t.add({current:b})});let i=document.querySelector(`[id='${y}']`);i&&t.add({current:i}),D&&window.addEventListener("keydown",x);let s=[];j?(window.addEventListener("click",T),s.push({event:"click",listener:Bt})):(s.push({event:"mouseenter",listener:e},{event:"mouseleave",listener:f},{event:"focus",listener:e},{event:"blur",listener:f}),v&&s.push({event:"mousemove",listener:z}));let u=()=>{st.current=!0},d=()=>{st.current=!1,pt()};return P&&!j&&((L=B.current)==null||L.addEventListener("mouseenter",u),(E=B.current)==null||E.addEventListener("mouseleave",d)),s.forEach(({event:b,listener:wt})=>{t.forEach(vt=>{var bt;(bt=vt.current)==null||bt.addEventListener(b,wt)})}),()=>{var b,wt;j&&window.removeEventListener("click",T),D&&window.removeEventListener("keydown",x),P&&!j&&((b=B.current)==null||b.removeEventListener("mouseenter",u),(wt=B.current)==null||wt.removeEventListener("mouseleave",d)),s.forEach(({event:vt,listener:bt})=>{t.forEach(Ft=>{var Ht;(Ht=Ft.current)==null||Ht.removeEventListener(vt,bt)})})}},[ht,_t,W,D,A]),N(()=>{let t=p!=null?p:"";!t&&o&&(t=`[data-tooltip-id='${o}']`);let i=u=>{let d=[];u.forEach(L=>{if(L.type==="attributes"&&L.attributeName==="data-tooltip-id"&&L.target.getAttribute("data-tooltip-id")===o&&d.push(L.target),L.type==="childList"&&(M&&[...L.removedNodes].some(E=>{var b;return(b=E==null?void 0:E.contains)!=null&&b.call(E,M)?(X(!1),g(!1),nt(null),!0):!1}),!!t))try{let E=[...L.addedNodes].filter(b=>b.nodeType===1);d.push(...E.filter(b=>b.matches(t))),d.push(...E.flatMap(b=>[...b.querySelectorAll(t)]))}catch(E){}}),d.length&&ct(L=>[...L,...d])},s=new MutationObserver(i);return s.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"]}),()=>{s.disconnect()}},[o,p,M]),N(()=>{if(Z){Y(Z);return}if(v){it.current&&Y(it.current);return}Ct({place:w,offset:k,elementReference:M,tooltipReference:B.current,tooltipArrowReference:K.current,strategy:r,middlewares:a}).then(t=>{V.current&&(Object.keys(t.tooltipStyles).length&&dt(t.tooltipStyles),Object.keys(t.tooltipArrowStyles).length&&mt(t.tooltipArrowStyles),Tt(t.place))})},[R,M,ot,w,k,r,Z]),N(()=>{var s;let t=document.querySelector(`[id='${y}']`),i=[...W,t];(!M||!i.includes(M))&&nt((s=W[0])!=null?s:t)},[y,W,M]),N(()=>()=>{H.current&&clearTimeout(H.current),q.current&&clearTimeout(q.current)},[]),N(()=>{let t=p;if(!t&&o&&(t=`[data-tooltip-id='${o}']`),!!t)try{let i=Array.from(document.querySelectorAll(t));ct(i)}catch(i){ct([])}},[o,p]);let I=ot&&R&&Object.keys(lt).length>0;return ht?Te(l,{id:o,role:"tooltip",className:Wt("react-tooltip",O.tooltip,O[c],m,`react-tooltip__place-${ft}`,{[O.show]:I,[O.fixed]:r==="fixed",[O.clickable]:P}),style:{...ut,...lt},ref:B,children:[ot,fe(l,{className:Wt("react-tooltip-arrow",O.arrow,_,{[O.noArrow]:Q}),style:gt,ref:K})]}):null},Pt=ue;import{jsx as me}from"react/jsx-runtime";var de=({content:o})=>me("span",{dangerouslySetInnerHTML:{__html:o}}),Mt=de;import{jsx as Ot}from"react/jsx-runtime";var ye=({id:o,anchorId:m,anchorSelect:_,content:c,html:y,render:p,className:w,classNameArrow:k,variant:A="dark",place:S="top",offset:r=10,wrapper:a="div",children:l=null,events:n=["hover"],openOnClick:h=!1,positionStrategy:v="absolute",middlewares:Q,delayShow:P=0,delayHide:D=0,float:ut=!1,noArrow:Z=!1,clickable:tt=!1,closeOnEsc:et=!1,style:ot,position:F,isOpen:rt,setIsOpen:M,afterShow:nt,afterHide:B})=>{let[K,H]=C(c),[q,ft]=C(y),[Tt,lt]=C(S),[dt,gt]=C(A),[mt,R]=C(r),[yt,ht]=C(P),[X,Et]=C(D),[it,_t]=C(ut),[Lt,st]=C(a),[W,ct]=C(n),[V,j]=C(v),[g,kt]=C(null),{anchorRefs:J,activeAnchor:at}=U(o),pt=T=>T==null?void 0:T.getAttributeNames().reduce((e,f)=>{var I;if(f.startsWith("data-tooltip-")){let t=f.replace(/^data-tooltip-/,"");e[t]=(I=T==null?void 0:T.getAttribute(f))!=null?I:null}return e},{}),Y=T=>{let x={place:e=>{lt(e!=null?e:S)},content:e=>{H(e!=null?e:c)},html:e=>{ft(e!=null?e:y)},variant:e=>{gt(e!=null?e:A)},offset:e=>{R(e===null?r:Number(e))},wrapper:e=>{st(e!=null?e:a)},events:e=>{let f=e==null?void 0:e.split(" ");ct(f!=null?f:n)},"position-strategy":e=>{j(e!=null?e:v)},"delay-show":e=>{ht(e===null?P:Number(e))},"delay-hide":e=>{Et(e===null?D:Number(e))},float:e=>{_t(e===null?ut:e==="true")}};Object.values(x).forEach(e=>e(null)),Object.entries(T).forEach(([e,f])=>{var I;(I=x[e])==null||I.call(x,f)})};St(()=>{H(c)},[c]),St(()=>{ft(y)},[y]),St(()=>{lt(S)},[S]),St(()=>{var s;let T=new Set(J),x=_;if(!x&&o&&(x=`[data-tooltip-id='${o}']`),x)try{document.querySelectorAll(x).forEach(d=>{T.add({current:d})})}catch(u){}let e=document.querySelector(`[id='${m}']`);if(e&&T.add({current:e}),!T.size)return()=>null;let f=(s=g!=null?g:e)!=null?s:at.current,I=u=>{u.forEach(d=>{var E;if(!f||d.type!=="attributes"||!((E=d.attributeName)!=null&&E.startsWith("data-tooltip-")))return;let L=pt(f);Y(L)})},t=new MutationObserver(I),i={attributes:!0,childList:!1,subtree:!1};if(f){let u=pt(f);Y(u),t.observe(f,i)}return()=>{t.disconnect()}},[J,at,g,m,_]);let z=l;return p?z=p({content:K!=null?K:null,activeAnchor:g}):K&&(z=K),q&&(z=Ot(Mt,{content:q})),Ot(Pt,{...{id:o,anchorId:m,anchorSelect:_,className:w,classNameArrow:k,content:z,place:Tt,variant:dt,offset:mt,wrapper:Lt,events:W,openOnClick:h,positionStrategy:V,middlewares:Q,delayShow:yt,delayHide:X,float:it,noArrow:Z,clickable:tt,closeOnEsc:et,style:ot,position:F,isOpen:rt,setIsOpen:M,afterShow:nt,afterHide:B,activeAnchor:g,setActiveAnchor:T=>kt(T)}})},$t=ye;export{$t as Tooltip,Dt as TooltipProvider,Kt as TooltipWrapper};
//# sourceMappingURL=react-tooltip.min.js.map
